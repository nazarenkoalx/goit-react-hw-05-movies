{"version":3,"file":"static/js/623.69390ef0.chunk.js","mappings":"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","sources":["components/FilmListItem/FilmListItem.styled.js","components/FilmListItem/FilmList.Item.js","components/FilmList/FilmList.styled.js","components/FilmList/FilmList.js","components/Toasts/Toasts.js","components/SearchForm/SearchForm.styled.js","components/SearchForm/SearchForm.js","pages/Movies.js","services/serviceAPI.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const MovieCard = styled.li`\n  max-width: 280px;\n  margin-bottom: 15px;\n  list-style: none;\n`;\n","import noPhoto from '../../images/no-photo.png';\nimport { MovieCard } from './FilmListItem.styled';\nimport { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nexport const FilmListItem = ({ id, title, poster_path }) => {\n  const posterBaseUrl = 'https://www.themoviedb.org/t/p/w500';\n  const posterPath =\n    poster_path === null ? `${noPhoto}` : `${posterBaseUrl}${poster_path}`;\n  const location = useLocation();\n\n  return (\n    <MovieCard>\n      <Link to={`/movies/${id}`} state={{ from: location }}>\n        <article>\n          <img src={posterPath} loading=\"lazy\" alt={title} />\n          <h2>{title}</h2>\n        </article>\n      </Link>\n    </MovieCard>\n  );\n};\n\nFilmListItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  poster_path: PropTypes.string.isRequired,\n};\n","import styled from 'styled-components';\n\nexport const MovieList = styled.div`\n  display: flex;\n\n  flex-wrap: wrap;\n  justify-content: space-between;\n`;\n","import { FilmListItem } from 'components/FilmListItem/FilmList.Item';\nimport { MovieList } from './FilmList.styled';\nimport PropTypes from 'prop-types';\n\nexport const FilmList = ({ movies }) => {\n  return (\n    <MovieList>\n      {movies.map(movie => {\n        const { id, title, poster_path } = movie;\n\n        return (\n          <FilmListItem\n            key={id}\n            id={id}\n            title={title}\n            poster_path={poster_path}\n          />\n        );\n      })}\n    </MovieList>\n  );\n};\n\nFilmList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n      poster_path: PropTypes.string,\n    })\n  ).isRequired,\n};\n","import { toast } from 'react-toastify';\n\nexport const errorToast = string =>\n  toast.error(`${string}`, {\n    position: 'top-right',\n    autoClose: 3000,\n    hideProgressBar: false,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: true,\n    progress: undefined,\n    theme: 'dark',\n  });\n","import styled from 'styled-components';\n\nexport const Form = styled.form`\n  display: flex;\n  gap: 10px;\n  margin-bottom: 20px;\n  margin-top: 20px;\n`;\n\nexport const Input = styled.input`\n  border: none;\n  border-bottom: 1px solid black;\n  outline: none;\n  font-size: 20px;\n`;\n\nexport const Button = styled.button``;\n","import { Form, Input, Button } from './SearchForm.styled';\nimport { CiSearch } from 'react-icons/ci';\nimport { errorToast } from '../Toasts/Toasts';\nimport PropTypes from 'prop-types';\n\nexport const SearchForm = ({ setSearchQuery, query }) => {\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    const query = evt.target.query.value.trim().toLowerCase();\n    if (!query) {\n      errorToast('your search query is empty');\n    }\n    setSearchQuery({ query });\n    evt.target.reset();\n  };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Input\n        name={'query'}\n        placeholder=\"Search here))\"\n        required\n        defaultValue={query}\n      />\n      <Button type=\"submit\">\n        <CiSearch name=\"search loop\" color=\"#000\" size=\"30px\" />\n      </Button>\n    </Form>\n  );\n};\n\nSearchForm.propTypes = {\n  setSearchQuery: PropTypes.func.isRequired,\n  query: PropTypes.string.isRequired,\n};\n","import { SearchForm } from 'components/SearchForm/SearchForm';\nimport { useEffect, useState } from 'react';\nimport { searchMovies } from 'services/serviceAPI';\nimport { FilmList } from 'components/FilmList/FilmList';\nimport { errorToast } from '../components/Toasts/Toasts';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport { Loader } from 'components/Loader/Loader';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (!query) return;\n    setMovies([]);\n    setError('');\n    setLoading(true);\n    searchMovies(query)\n      .then(normalisedMovies => {\n        if (normalisedMovies.length === 0) {\n          return errorToast('There are no matches with your query(');\n        }\n        setMovies(normalisedMovies);\n      })\n      .catch(error => setError(error))\n      .finally(() => setLoading(false));\n  }, [query]);\n\n  useEffect(() => {\n    if (error !== '') {\n      errorToast(\n        'smth went wrong, redirecting to the main page, wait a second pls'\n      );\n      setTimeout(() => {\n        navigate('/');\n      }, 2000);\n    }\n  }, [error, navigate]);\n\n  return (\n    <main>\n      <SearchForm setSearchQuery={setSearchParams} query={query} />\n      {loading && <Loader />}\n      {movies.length > 0 && <FilmList movies={movies} />}\n    </main>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst API_KEY = 'd60997a7e23cda835c1c23368c69f903';\n\nexport async function getTrendingMovies() {\n  try {\n    const { data } = await axios.get(\n      'https://api.themoviedb.org/3/trending/movie/week',\n      {\n        params: {\n          api_key: API_KEY,\n        },\n      }\n    );\n    const normalisedMovies = data.results.map(\n      ({ id, title, poster_path, vote_average, genre_ids }) => ({\n        id,\n        title,\n        poster_path,\n        vote_average,\n      })\n    );\n    return normalisedMovies;\n  } catch (error) {\n    throw new Error(error);\n  }\n}\n\nexport async function searchMovies(searchQuery) {\n  try {\n    const { data } = await axios.get(\n      'https://api.themoviedb.org/3/search/movie',\n      {\n        params: {\n          api_key: API_KEY,\n          language: 'en-US',\n          page: 1,\n          include_adult: false,\n          query: searchQuery,\n        },\n      }\n    );\n    const normalisedMovies = data.results.map(\n      ({ id, title, poster_path, vote_average, genre_ids }) => ({\n        id,\n        title,\n        poster_path,\n        vote_average,\n      })\n    );\n    return normalisedMovies;\n  } catch (error) {\n    throw new Error(error);\n  }\n}\n\nexport async function getMovieById(id) {\n  try {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3/movie/${id}`,\n      {\n        params: {\n          api_key: API_KEY,\n          language: 'en-US',\n        },\n      }\n    );\n\n    return data;\n  } catch (error) {\n    throw new Error(error);\n  }\n}\n\nexport async function getCastById(id) {\n  try {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3/movie/${id}/credits`,\n      {\n        params: {\n          api_key: API_KEY,\n          language: 'en-US',\n        },\n      }\n    );\n    const cast = data.cast.map(({ id, character, name, profile_path }) => {\n      return { id, character, name, profile_path };\n    });\n\n    return cast;\n  } catch (error) {\n    throw new Error(error);\n  }\n}\n\nexport async function getReviewsById(id) {\n  try {\n    const { data } = await axios.get(\n      `https://api.themoviedb.org/3/movie/${id}/reviews`,\n      {\n        params: {\n          api_key: API_KEY,\n          language: 'en-US',\n          page: 1,\n        },\n      }\n    );\n    const reviews = data.results.map(({ author, content, created_at }) => {\n      return { author, content, created_at };\n    });\n    return reviews;\n  } catch (error) {\n    throw new Error(error);\n  }\n}\n"],"names":["MovieCard","styled","FilmListItem","id","title","poster_path","posterPath","noPhoto","location","useLocation","to","state","from","src","loading","alt","MovieList","FilmList","movies","map","movie","errorToast","string","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","Form","Input","Button","SearchForm","setSearchQuery","query","onSubmit","evt","preventDefault","target","value","trim","toLowerCase","reset","name","placeholder","required","defaultValue","type","color","size","useState","setMovies","error","setError","setLoading","useSearchParams","searchParams","setSearchParams","get","navigate","useNavigate","useEffect","searchMovies","then","normalisedMovies","length","catch","finally","setTimeout","Loader","API_KEY","getTrendingMovies","axios","params","api_key","data","results","vote_average","genre_ids","Error","searchQuery","language","page","include_adult","getMovieById","getCastById","cast","character","profile_path","getReviewsById","reviews","author","content","created_at"],"sourceRoot":""}