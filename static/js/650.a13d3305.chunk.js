"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[650],{5650:function(t,e,r){r.r(e),r.d(e,{default:function(){return b}});var n,a,u,c,o,i=r(9439),s=r(2791),p=r(7689),h=r(9159),f=r(9462),l=r(168),d=r(4313),v=d.ZP.ul(n||(n=(0,l.Z)(["\n  display: flex;\n  gap: 10px;\n  flex-direction: column;\n  margin-top: 20px;\n"]))),g=d.ZP.li(a||(a=(0,l.Z)([""]))),m=d.ZP.h3(u||(u=(0,l.Z)([""]))),w=d.ZP.p(c||(c=(0,l.Z)([""]))),_=d.ZP.p(o||(o=(0,l.Z)([""]))),x=r(184),Z=function(t){var e=t.author,r=t.content,n=t.created_at;return(0,x.jsx)(g,{children:(0,x.jsxs)("article",{children:[(0,x.jsx)(m,{children:e}),(0,x.jsx)(_,{children:n}),(0,x.jsx)(w,{children:r})]})})},y=function(t){var e=t.reviews;return(0,x.jsx)(v,{children:e.map((function(t){var e=t.author,r=t.content,n=t.created_at;return(0,x.jsx)(Z,{author:e,content:r,created_at:n},function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(t)).reduce((function(t,e){return t+((e&=63)<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e>62?"-":"_")}),"")}())}))})},k=r(4608),b=function(){var t=(0,s.useState)([]),e=(0,i.Z)(t,2),r=e[0],n=e[1],a=(0,s.useState)(""),u=(0,i.Z)(a,2),c=u[0],o=u[1],l=(0,s.useState)(!1),d=(0,i.Z)(l,2),v=d[0],g=d[1],m=(0,p.s0)(),w=(0,p.UO)().id;return(0,s.useEffect)((function(){n([]),o(""),g(!0),(0,h.fI)(w).then((function(t){if(0===t.length)return(0,f.J)("Unfortunately nobody reviewed this movie");n(t)})).catch((function(t){return o(t)})).finally((function(){return g(!1)}))}),[w]),(0,s.useEffect)((function(){""!==c&&((0,f.J)("smth went wrong, redirecting to the movie page, wait a second pls"),setTimeout((function(){m("/movies/".concat(w))}),1e3))}),[c,w,m]),(0,x.jsxs)(x.Fragment,{children:[v&&(0,x.jsx)(k.a,{}),c&&(0,x.jsx)("div",{children:"smth went wrong"}),r.length>0&&(0,x.jsx)(y,{reviews:r})]})}},9462:function(t,e,r){r.d(e,{J:function(){return a}});var n=r(7596),a=function(t){return n.Am.error("".concat(t),{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})}},9159:function(t,e,r){r.d(e,{Df:function(){return i},Ku:function(){return d},Pg:function(){return f},fI:function(){return g},z1:function(){return p}});var n=r(5861),a=r(4687),u=r.n(a),c=r(1243),o="d60997a7e23cda835c1c23368c69f903";function i(){return s.apply(this,arguments)}function s(){return(s=(0,n.Z)(u().mark((function t(){var e,r,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("https://api.themoviedb.org/3/trending/movie/week",{params:{api_key:o}});case 3:return e=t.sent,r=e.data,n=r.results.map((function(t){var e=t.id,r=t.title,n=t.poster_path,a=t.vote_average;t.genre_ids;return{id:e,title:r,poster_path:n,vote_average:a}})),t.abrupt("return",n);case 9:throw t.prev=9,t.t0=t.catch(0),new Error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function p(t){return h.apply(this,arguments)}function h(){return(h=(0,n.Z)(u().mark((function t(e){var r,n,a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("https://api.themoviedb.org/3/search/movie",{params:{api_key:o,language:"en-US",page:1,include_adult:!1,query:e}});case 3:return r=t.sent,n=r.data,a=n.results.map((function(t){var e=t.id,r=t.title,n=t.poster_path,a=t.vote_average;t.genre_ids;return{id:e,title:r,poster_path:n,vote_average:a}})),t.abrupt("return",a);case 9:throw t.prev=9,t.t0=t.catch(0),new Error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function f(t){return l.apply(this,arguments)}function l(){return(l=(0,n.Z)(u().mark((function t(e){var r,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("https://api.themoviedb.org/3/movie/".concat(e),{params:{api_key:o,language:"en-US"}});case 3:return r=t.sent,n=r.data,t.abrupt("return",n);case 8:throw t.prev=8,t.t0=t.catch(0),new Error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function d(t){return v.apply(this,arguments)}function v(){return(v=(0,n.Z)(u().mark((function t(e){var r,n,a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("https://api.themoviedb.org/3/movie/".concat(e,"/credits"),{params:{api_key:o,language:"en-US"}});case 3:return r=t.sent,n=r.data,a=n.cast.map((function(t){return{id:t.id,character:t.character,name:t.name,profile_path:t.profile_path}})),t.abrupt("return",a);case 9:throw t.prev=9,t.t0=t.catch(0),new Error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function g(t){return m.apply(this,arguments)}function m(){return(m=(0,n.Z)(u().mark((function t(e){var r,n,a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("https://api.themoviedb.org/3/movie/".concat(e,"/reviews"),{params:{api_key:o,language:"en-US",page:1}});case 3:return r=t.sent,n=r.data,a=n.results.map((function(t){return{author:t.author,content:t.content,created_at:t.created_at}})),t.abrupt("return",a);case 9:throw t.prev=9,t.t0=t.catch(0),new Error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}}}]);
//# sourceMappingURL=650.a13d3305.chunk.js.map