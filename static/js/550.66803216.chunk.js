"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[550],{3550:function(t,e,n){n.r(e),n.d(e,{default:function(){return j}});var r,a,c,o,i,u=n(9439),s=n(2791),p=n(7689),h=n(9159),l=n(168),f=n(4313),d=f.ZP.h3(r||(r=(0,l.Z)(["\n  margin-top: 20px;\n  font-size: 20px;\n  display: block;\n"]))),v=f.ZP.ul(a||(a=(0,l.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n  margin-top: 20px;\n  justify-content: space-between;\n"]))),g=f.ZP.li(c||(c=(0,l.Z)(["\n  display: flex;\n  flex-direction: column;\n  border: 1px solid black;\n  width: 220px;\n"]))),m=f.ZP.img(o||(o=(0,l.Z)(["\n  width: 100%;\n"]))),w=f.ZP.div(i||(i=(0,l.Z)(["\n  padding: 10px;\n"]))),x=n(184),_=function(t){var e=t.actorPhotoPath,n=t.name,r=t.character;return(0,x.jsxs)(g,{children:[(0,x.jsx)(m,{src:e,loading:"lazy",alt:n}),(0,x.jsxs)(w,{children:[(0,x.jsxs)("p",{children:["Actor: ",n]}),(0,x.jsxs)("p",{children:["Role: ",r]})]})]})},y=n(1857),Z=function(t){var e=t.cast;return e.length>0&&(0,x.jsx)(v,{children:e.map((function(t){var e=t.id,n=t.character,r=t.name,a=t.profile_path,c=null===a?"".concat(y):"".concat("https://www.themoviedb.org/t/p/w500").concat(a);return(0,x.jsx)(_,{character:n,name:r,actorPhotoPath:c},e)}))})},k=n(9462),b=n(4608),j=function(){var t=(0,s.useState)([]),e=(0,u.Z)(t,2),n=e[0],r=e[1],a=(0,s.useState)(""),c=(0,u.Z)(a,2),o=c[0],i=c[1],l=(0,s.useState)(!1),f=(0,u.Z)(l,2),v=f[0],g=f[1],m=(0,p.UO)().id,w=(0,p.s0)();return(0,s.useEffect)((function(){r([]),i(""),g(!0),(0,h.Ku)(m).then((function(t){if(0===t.length)return(0,k.J)("Unfortunately there is no info about movie cast");r(t)})).catch((function(t){return i(t)})).finally((function(){return g(!1)}))}),[m]),(0,s.useEffect)((function(){""!==o&&((0,k.J)("smth went wrong, redirecting to the main page, wait a second pls"),setTimeout((function(){w("/movies/".concat(m))}),2e3))}),[o,m,w]),(0,x.jsxs)(x.Fragment,{children:[o&&(0,x.jsx)("div",{children:"smth went wrong"}),v&&(0,x.jsx)(b.a,{}),n.length&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d,{children:"Cast list:"}),(0,x.jsx)(Z,{cast:n})]})]})}},9462:function(t,e,n){n.d(e,{J:function(){return a}});var r=n(7596),a=function(t){return r.Am.error("".concat(t),{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"dark"})}},9159:function(t,e,n){n.d(e,{Df:function(){return u},Ku:function(){return d},Pg:function(){return l},fI:function(){return g},z1:function(){return p}});var r=n(5861),a=n(4687),c=n.n(a),o=n(1243),i="d60997a7e23cda835c1c23368c69f903";function u(){return s.apply(this,arguments)}function s(){return(s=(0,r.Z)(c().mark((function t(){var e,n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.Z.get("https://api.themoviedb.org/3/trending/movie/week",{params:{api_key:i}});case 3:return e=t.sent,n=e.data,r=n.results.map((function(t){var e=t.id,n=t.title,r=t.poster_path,a=t.vote_average;t.genre_ids;return{id:e,title:n,poster_path:r,vote_average:a}})),t.abrupt("return",r);case 9:throw t.prev=9,t.t0=t.catch(0),new Error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function p(t){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)(c().mark((function t(e){var n,r,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.Z.get("https://api.themoviedb.org/3/search/movie",{params:{api_key:i,language:"en-US",page:1,include_adult:!1,query:e}});case 3:return n=t.sent,r=n.data,a=r.results.map((function(t){var e=t.id,n=t.title,r=t.poster_path,a=t.vote_average;t.genre_ids;return{id:e,title:n,poster_path:r,vote_average:a}})),t.abrupt("return",a);case 9:throw t.prev=9,t.t0=t.catch(0),new Error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function l(t){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(c().mark((function t(e){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.Z.get("https://api.themoviedb.org/3/movie/".concat(e),{params:{api_key:i,language:"en-US"}});case 3:return n=t.sent,r=n.data,t.abrupt("return",r);case 8:throw t.prev=8,t.t0=t.catch(0),new Error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function d(t){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(c().mark((function t(e){var n,r,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.Z.get("https://api.themoviedb.org/3/movie/".concat(e,"/credits"),{params:{api_key:i,language:"en-US"}});case 3:return n=t.sent,r=n.data,a=r.cast.map((function(t){return{id:t.id,character:t.character,name:t.name,profile_path:t.profile_path}})),t.abrupt("return",a);case 9:throw t.prev=9,t.t0=t.catch(0),new Error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function g(t){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(c().mark((function t(e){var n,r,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.Z.get("https://api.themoviedb.org/3/movie/".concat(e,"/reviews"),{params:{api_key:i,language:"en-US",page:1}});case 3:return n=t.sent,r=n.data,a=r.results.map((function(t){return{author:t.author,content:t.content,created_at:t.created_at}})),t.abrupt("return",a);case 9:throw t.prev=9,t.t0=t.catch(0),new Error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}},1857:function(t,e,n){t.exports=n.p+"static/media/no-photo.4c5af415192ff4013f7e.png"}}]);
//# sourceMappingURL=550.66803216.chunk.js.map